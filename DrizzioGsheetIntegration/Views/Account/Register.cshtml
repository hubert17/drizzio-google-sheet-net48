@{
    ViewBag.Title = "Sign Up";
    Layout = "~/Views/Shared/_AccountLayout.cshtml";
}


<div class="card fat">
    <div class="card-body zoom">
        <h4 class="card-title">Register</h4>
        <form v-cloak action="/account/Register" method="post">
            @Html.AntiForgeryToken()

            <div class="form-group">
                <label for="name" class="col-form-label col-form-label-lg-mobile"> Name </label>
                <input type="text" id="name" name="name" class="form-control form-control-lg-mobile" required autofocus />
            </div>

            <div class="form-group">
                <label for="username" class="col-form-label col-form-label-lg-mobile"> Email </label>
                <input type="text" id="username" name="username" class="form-control form-control-lg-mobile" required />
            </div>

            <div class="form-group">
                <label for="password" class="col-form-label col-form-label-lg-mobile"> Password </label>
                <input v-model="password" type="password" id="password" name="password" class="form-control form-control-lg-mobile" required data-eye />
            </div>

            <div class="form-group">
                <label for="retypePassword" class="col-form-label col-form-label-lg-mobile">Re-type Password</label>
                <input v-model="retypePassword" type="password" id="retypePassword" name="retypePassword" class="form-control form-control-lg-mobile" required>
                <span v-if="retypePassword && btnDisabled()" class="form-text text-danger small">Password does not match</span>
            </div>

            <div class="form-group">
                <div class="custom-checkbox custom-control">
                    <input type="checkbox" id="agree" name="agree" class="custom-control-input" required>
                    <label for="agree" class="custom-control-label">I agree to the <a href="#">Terms and Conditions</a></label>
                </div>
            </div>

            <div class="form-group m-0">
                <button type="submit" class="btn btn-primary btn-block btn-lg-mobile" :disabled="btnDisabled()" >
                    Register
                </button>
            </div>
            <div class="mt-4 text-center">
                Already have an account? <a href="/account/login">Login</a>
            </div>
        </form>
    </div>
</div>

<script type="module">
    import { createApp } from "/Scripts/petite-vue.es.js";
    const app = {
        //data
        password: '',
        retypePassword: '',
        //methods
        btnDisabled() {
            return (this.password && (this.password !== this.retypePassword))
        },
    }
    createApp(app).mount();
</script>